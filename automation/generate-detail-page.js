const fs = require("fs");

const data = require("./detail-page-data");
console.log("Starting to generate detail pages...");

const processData = (data) => {
    for (let i = 0; i < data.length; i++) {
        const pageData = data[i];
        genDetailPage(pageData);
    }
};

const makeBreadcrumb = (breadcrumbData) => {
    const { breadcrumb_name, breadcrumb_link } = breadcrumbData;
    let breadcrumb = "";
    for (let i = 0; i < breadcrumb_name.length; i++) {
        breadcrumb += `<a href="${breadcrumb_link[i]}">${breadcrumb_name[i]}</a>\n`;
        if (i !== breadcrumb_name.length - 1) {
            breadcrumb += "<p>></p>\n";
        }
    }
    return breadcrumb;
};

console.log(makeBreadcrumb(data[0]));

const genDetailPage = (pageData) => {
    const { file_name, title, author, desc, cover_img, sub_imgs } = pageData;
    const page = `<!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>Odyssey: Buy Books, Fiction, Novels</title>
            <link rel="icon" href="../../images/boat.png" />
    
            <!-- Main stylesheet -->
            <link rel="stylesheet" href="../../index.css" />
    
            <!-- CSS Components -->
            <link rel="stylesheet" href="../../css-components/header.css" />
            <link rel="stylesheet" href="../../css-components/footer.css" />
            <link rel="stylesheet" href="../../css-components/book-detail.css" />
        </head>
        <body>
            <!-- Header -->
            <header>
                <!-- Logo -->
                <a href="../../index.html" class="logo">
                    <img src="../../images/boat.png" alt="logo" />
                    <h1>Odyssey</h1>
                </a>
    
                <!-- Nav Bar -->
                <img
                    src="../../images/icons/menu.png"
                    alt="menu-bar"
                    id="menu-bar"
                />
                <nav id="navbar">
                    <ul>
                        <li><a href="../../index.html">Home</a></li>
                        <li><a href="../special-offers.html">Special Offers</a></li>
                        <li><a href="../best-sellers.html">Best Sellers</a></li>
                        <li><a href="../new-releases.html">New Releases</a></li>
                        <li><a href="../genres.html">Genres</a></li>
                    </ul>
                </nav>
    
                <!-- User and Cart icons -->
                <div class="user-cart">
                    <a class="cart" href="#!">
                        <img src="../../images/icons/white-cart2.png" alt="cart" />
                    </a>
                    <a class="user" href="#!">
                        <img src="../../images/icons/user-icon.png" alt="user" />
                    </a>
                </div>
            </header>
    
            <!-- Main Content -->
            <main>
                <!-- Breadcumb -->
                <p class="breadcrumb">Home > Fiction > Dune</p>
    
                <div class="book-wrapper">
                    <!-- Images -->
                    <section class="images">
                        <img
                            src="../../images/books/dune.jpg"
                            alt="cover"
                            id="main-image"
                        />
                        <div class="sub-images">
                            <img
                                src="../../images/books/dune-sub1.png"
                                alt="cover"
                            />
                            <img
                                src="../../images/books/dune-sub2.png"
                                alt="cover"
                            />
                            <img
                                src="../../images/books/dune-sub3.png"
                                alt="cover"
                            />
                        </div>
                    </section>
    
                    <!-- Book Details -->
                    <section class="detail">
                        <div class="book-name-author">
                            <h1 class="book-name">Dune</h1>
                            <p class="name-seperator">-</p>
                            <h2 class="book-author">Frank Herbert</h2>
                        </div>
                        <a class="show-more" href="#!">Show more</a>
                        <p class="book-desc">
                            Set on the desert planet Arrakis, Dune is the story of
                            the boy Paul Atreides, heir to a noble family tasked
                            with ruling an inhospitable world where the only thing
                            of value is the “spice” melange, a drug capable of
                            extending life and enhancing consciousness. Coveted
                            across the known universe, melange is a prize worth
                            killing for....
                        </p>
                        <p class="book-desc">
                            When House Atreides is betrayed, the destruction of
                            Paul’s family will set the boy on a journey toward a
                            destiny greater than he could ever have imagined. And as
                            he evolves into the mysterious man known as Muad’Dib, he
                            will bring to fruition humankind’s most ancient and
                            unattainable dream.
                        </p>
                        <p class="book-desc">
                            When House Atreides is betrayed, the destruction of
                            Paul’s family will set the boy on a journey toward a
                            destiny greater than he could ever have imagined. And as
                            he evolves into the mysterious man known as Muad’Dib, he
                            will bring to fruition humankind’s most ancient and
                            unattainable dream.
                        </p>
                        <h2 class="price">$21.67</h2>
                        <a href="#!" class="add-to-cart">
                            Add to Cart
                            <img
                                class="cart-icon"
                                src="../../images/icons/white-cart2.png"
                                alt=""
                            />
                        </a>
                    </section>
                </div>
            </main>
    
            <!-- Footer -->
            <footer>
                <nav>
                    <ul>
                        <li><a href="#!">About Us</a></li>
                        <li><a href="#!">Privacy Policy</a></li>
                        <li><a href="#!">Terms</a></li>
                        <li><a href="#!">Copyright</a></li>
                        <li><a href="../contact-us.html">Contact Us</a></li>
                    </ul>
                </nav>
            </footer>
        </body>
    </html>
    `;
};
